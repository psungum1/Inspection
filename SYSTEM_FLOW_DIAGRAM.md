# แผนภาพ Flow ของระบบ PQMS

## 🔄 Flow การทำงานหลักของระบบ

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   User Login    │───▶│   Dashboard     │───▶│  System Views   │
└─────────────────┘    └─────────────────┘    └─────────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│ Authentication  │    │ Real-time Data  │    │ Navigation      │
│   & Security   │    │   Updates       │    │   & Routing     │
└─────────────────┘    └─────────────────┘    └─────────────────┘
```

## 📊 Flow การนำเข้าข้อมูล

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   CSV File  │───▶│ Validation │───▶│ Database    │───▶│ Success/    │
│   or SQL    │    │   Process  │    │   Insert    │    │ Error       │
│   Server    │    │            │    │            │    │ Report      │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
```

## 🧪 Flow การป้อนข้อมูลการทดสอบ

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Search Order│───▶│ Select      │───▶│ Input Test  │───▶│ Save &      │
│             │    │ Parameters  │    │ Results     │    │ Validate    │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Order List  │    │ Parameter   │    │ Database    │
│             │    │ Validation  │    │ Update      │
└─────────────┘    └─────────────┘    └─────────────┘
```

## 📈 Flow การวิเคราะห์ข้อมูล

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Historical  │───▶│ Statistical │───▶│ Chart       │───▶│ Insights    │
│   Data      │    │ Analysis    │    │ Generation  │    │ & Reports   │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
```

## ⚙️ Flow การตั้งค่าระบบ

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Admin       │───▶│ Parameter   │───▶│ Validation  │───▶│ Save        │
│ Access      │    │ Management  │    │ & Testing   │    │ Changes     │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
```

## 🔄 Flow การทำงานแบบ Real-time

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Database    │───▶│ WebSocket   │───▶│ Frontend    │───▶│ UI Update   │
│ Changes     │    │ Server      │    │ Components  │    │ & Notify    │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
```

## 🏗️ สถาปัตยกรรมระบบ

```
┌─────────────────────────────────────────────────────────────────┐
│                        Frontend (React)                        │
├─────────────────────────────────────────────────────────────────┤
│  Dashboard  │  Test Entry  │  Analytics  │  Settings  │ Reports │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Backend API (Node.js)                       │
├─────────────────────────────────────────────────────────────────┤
│  Auth API  │  Data API  │  Test API  │  Report API │ Config API │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Database (SQL Server)                        │
├─────────────────────────────────────────────────────────────────┤
│  Users     │  Orders    │  Test      │  Parameters │  Reports   │
│  Tables    │  Tables    │  Results   │  Tables     │  Tables    │
└─────────────────────────────────────────────────────────────────┘
```

## 🔐 Flow การยืนยันตัวตน

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ User Input  │───▶│ Server      │───▶│ JWT Token   │───▶│ Access      │
│ Credentials │    │ Validation  │    │ Generation  │    │ Granted     │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Form        │    │ Database    │    │ Role-based  │
│ Validation  │    │ Check       │    │ Access      │
└─────────────┘    └─────────────┘    └─────────────┘
```

## 📱 Flow การใช้งานบนอุปกรณ์ต่างๆ

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Desktop     │───▶│ Responsive  │───▶│ Mobile      │
│ Application │    │ Design      │    │ Application │
└─────────────┘    └─────────────┘    └─────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Full        │    │ Adaptive    │    │ Touch       │
│ Features    │    │ Layout      │    │ Optimized   │
└─────────────┘    └─────────────┘    └─────────────┘
```

## 🔒 Flow ความปลอดภัย

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Request     │───▶│ JWT         │───▶│ Role        │───▶│ Permission  │
│             │    │ Validation  │    │ Check       │    │ Grant/Deny  │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Rate        │    │ Input       │    │ Audit       │
│ Limiting    │    │ Sanitization│    │ Logging     │
└─────────────┘    └─────────────┘    └─────────────┘
```

## 📋 Flow การรายงาน

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Data        │───▶│ Filtering   │───▶│ Aggregation │───▶│ Report      │
│ Collection  │    │ & Sorting   │    │ & Analysis  │    │ Generation  │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Export      │    │ Print       │    │ Share       │
│ Options     │    │ Function    │    │ & Distribute│
└─────────────┘    └─────────────┘    └─────────────┘
```

## 🚀 Flow การ Deploy

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Development │───▶│ Testing     │───▶│ Staging     │───▶│ Production  │
│ Environment │    │ Environment │    │ Environment │    │ Environment │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│ Code        │    │ Quality     │    │ Performance │
│ Changes     │    │ Assurance   │    │ Monitoring  │
└─────────────┘    └─────────────┘    └─────────────┘
```

---

## 📝 คำอธิบาย Flow

### 1. **Flow การทำงานหลัก**
- ผู้ใช้เข้าสู่ระบบผ่านหน้า Login
- ระบบตรวจสอบสิทธิ์และนำไปยัง Dashboard
- ผู้ใช้สามารถเข้าถึงฟีเจอร์ต่างๆ ตามสิทธิ์

### 2. **Flow การนำเข้าข้อมูล**
- รองรับการนำเข้าจากไฟล์ CSV และ SQL Server
- มีการตรวจสอบความถูกต้องของข้อมูล
- แสดงรายงานผลการนำเข้า

### 3. **Flow การป้อนข้อมูลการทดสอบ**
- ค้นหา Order ที่ต้องการ
- เลือกพารามิเตอร์ที่ต้องทดสอบ
- ป้อนผลการทดสอบและบันทึก

### 4. **Flow การวิเคราะห์ข้อมูล**
- ใช้ข้อมูลประวัติในการวิเคราะห์
- สร้างกราฟและรายงาน
- แสดงข้อมูลเชิงลึก

### 5. **Flow การตั้งค่าระบบ**
- เฉพาะ Admin เท่านั้นที่เข้าถึงได้
- จัดการพารามิเตอร์และ Test Stages
- บันทึกการเปลี่ยนแปลง

### 6. **Flow การทำงานแบบ Real-time**
- ข้อมูลอัปเดตผ่าน WebSocket
- UI อัปเดตอัตโนมัติ
- การแจ้งเตือนแบบ Real-time

### 7. **Flow ความปลอดภัย**
- ใช้ JWT Token
- ตรวจสอบสิทธิ์ตามบทบาท
- มีการบันทึก Audit Log

### 8. **Flow การรายงาน**
- รวบรวมข้อมูลตามเงื่อนไข
- สร้างรายงานในรูปแบบต่างๆ
- ส่งออกและแชร์ได้

### 9. **Flow การ Deploy**
- เริ่มจาก Development
- ทดสอบใน Staging
- Deploy ไปยัง Production



